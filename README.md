# ğŸ¤– AI Jarvis - æ™ºèƒ½æ¯æ—¥ä»»åŠ¡åŠ©æ‰‹

AI Jarvis æ˜¯ä¸€ä¸ªåŸºäº Claude AI å’Œ GitHub Actions çš„æ™ºèƒ½ä¸ªäººåŠ©æ‰‹ç³»ç»Ÿï¼Œæ¯å¤©è‡ªåŠ¨ä¸ºä½ ç”Ÿæˆä¸ªæ€§åŒ–çš„ä»»åŠ¡å’Œæé†’ï¼Œé€šè¿‡é‚®ä»¶æ¨é€ï¼Œè®©ä½ çš„å·¥ä½œå’Œç”Ÿæ´»æ›´åŠ é«˜æ•ˆæœ‰åºã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ”¥ å››å¤§æ™ºèƒ½æ¨¡å—

1. **ğŸ’¼ å·¥ä½œæé†’** - åŸºäºä½ çš„ GitHub æ´»åŠ¨ç”Ÿæˆå·¥ä½œä»»åŠ¡
   - ä»£ç å®¡æŸ¥æé†’
   - é¡¹ç›®è¿›åº¦è·Ÿè¸ª
   - æŠ€æœ¯å€ºåŠ¡æ¸…ç†
   - æ–‡æ¡£æ›´æ–°å»ºè®®

2. **ğŸ“š å­¦ä¹ è®¡åˆ’** - ä¸ªæ€§åŒ–æŠ€æœ¯å­¦ä¹ å»ºè®®
   - æŠ€æœ¯æ ˆæ·±åº¦å­¦ä¹ 
   - æ–°æŠ€æœ¯è¶‹åŠ¿æ¢ç´¢
   - å®è·µé¡¹ç›®æ¨è
   - å­¦ä¹ èµ„æºæ¨è

3. **ğŸ’ª å¥åº·å»ºè®®** - ç¨‹åºå‘˜ä¸“é¡¹å¥åº·ç®¡ç†
   - çœ¼éƒ¨å¥åº·ä¿æŠ¤
   - é¢ˆæ¤è„Šæ¤æŠ¤ç†
   - è¿åŠ¨å¥èº«æé†’
   - å¿ƒç†å¥åº·å…³æ³¨

4. **ğŸ“Š å¸‚åœºåˆ†æ** - æŠ€æœ¯å¸‚åœºè¶‹åŠ¿æ´å¯Ÿ
   - è¡Œä¸šåŠ¨æ€åˆ†æ
   - æŠ•èµ„æœºä¼šæé†’
   - æŠ€èƒ½å¸‚åœºéœ€æ±‚
   - ç«å“åŠ¨æ€è¿½è¸ª

5. **ğŸ’¾ BWG ç£ç›˜ç›‘æ§** - BandwagonHost VPS ç£ç›˜ä½¿ç”¨ç›‘æ§
   - æ¯æ—¥è‡ªåŠ¨æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µ
   - ç£ç›˜ç©ºé—´è­¦å‘Šå’Œä¸¥é‡æé†’
   - è¯¦ç»†çš„æœåŠ¡å™¨çŠ¶æ€æŠ¥å‘Š
   - æµé‡ä½¿ç”¨æƒ…å†µç»Ÿè®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

\`\`\`bash
git clone https://github.com/your-username/My-Jarvis.git
cd My-Jarvis
\`\`\`

### 2. å®‰è£…ä¾èµ–

\`\`\`bash
npm install
\`\`\`

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ GitHub ä»“åº“çš„ Settings > Secrets and variables > Actions ä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

#### å¿…éœ€çš„ç¯å¢ƒå˜é‡

\`\`\`env
# Claude AI API é…ç½®
ANTHROPIC_API_KEY=your-claude-api-key

# é€šçŸ¥æ–¹å¼é…ç½® (äºŒé€‰ä¸€æˆ–åŒæ—¶é…ç½®)
# æ–¹å¼1: ä¼ä¸šå¾®ä¿¡ Webhook (æ¨è)
WECHAT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-key

# æ–¹å¼2: é‚®ä»¶å‘é€é…ç½®
EMAIL_SERVICE=gmail          # é‚®ä»¶æœåŠ¡æä¾›å•†
EMAIL_USER=your-email@gmail.com    # å‘é€é‚®ç®±
EMAIL_PASS=your-app-password       # é‚®ç®±åº”ç”¨ä¸“ç”¨å¯†ç 
NOTIFICATION_EMAIL=your-notification@gmail.com  # æ¥æ”¶é‚®ç®±

# GitHub API é…ç½® (å¯é€‰ï¼Œç”¨äºæ›´å¥½çš„å·¥ä½œæé†’)
GITHUB_TOKEN=your-github-token

# BWG VPS ç›‘æ§é…ç½® (å¯é€‰)
BWG_VEID=666722                    # BWG æœåŠ¡å™¨ VEID
BWG_API_KEY=your-bwg-api-key       # BWG API Key
BWG_DISK_WARNING_THRESHOLD=80      # ç£ç›˜è­¦å‘Šé˜ˆå€¼ (%)ï¼Œé»˜è®¤ 80
BWG_DISK_CRITICAL_THRESHOLD=90     # ç£ç›˜ä¸¥é‡é˜ˆå€¼ (%)ï¼Œé»˜è®¤ 90
BWG_SEND_DAILY_REPORT=false        # æ˜¯å¦å‘é€æ¯æ—¥æ­£å¸¸æŠ¥å‘Šï¼Œé»˜è®¤ false
\`\`\`

> **ğŸ’¡ é€šçŸ¥æ–¹å¼è¯´æ˜**ï¼š
> - å¦‚æœé…ç½®äº† `WECHAT_WEBHOOK_URL`ï¼Œç³»ç»Ÿå°†ä¼˜å…ˆä½¿ç”¨ä¼ä¸šå¾®ä¿¡ webhook å‘é€é€šçŸ¥
> - å¦‚æœæœªé…ç½®ä¼ä¸šå¾®ä¿¡ï¼Œåˆ™ä¼šå°è¯•ä½¿ç”¨é‚®ä»¶å‘é€
> - ä¸¤è€…éƒ½æœªé…ç½®æ—¶ï¼Œé€šçŸ¥ä¿¡æ¯å°†ä»…è¾“å‡ºåˆ°æ—¥å¿—ä¸­

#### è·å–ä¼ä¸šå¾®ä¿¡ Webhook URL

1. ç™»å½• [ä¼ä¸šå¾®ä¿¡ç®¡ç†åå°](https://work.weixin.qq.com/)
2. è¿›å…¥ã€Œåº”ç”¨ç®¡ç†ã€â†’ã€Œç¾¤æœºå™¨äººã€
3. åœ¨éœ€è¦æ¥æ”¶é€šçŸ¥çš„ç¾¤èŠä¸­æ·»åŠ ç¾¤æœºå™¨äºº
4. è·å– Webhook URLï¼Œæ ¼å¼å¦‚ï¼š`https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxxxxxxx`
5. å°† Webhook URL æ·»åŠ åˆ° GitHub Secrets ä¸­çš„ `WECHAT_WEBHOOK_URL`

**æµ‹è¯•ä¼ä¸šå¾®ä¿¡é€šçŸ¥ï¼š**
\`\`\`bash
curl https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your-key \\
  -H 'Content-Type: application/json' \\
  -d '{"msgtype": "text", "text": {"content": "hello world"}}'
\`\`\`

#### è·å– BWG API Key

1. ç™»å½• [BandwagonHost æ§åˆ¶é¢æ¿](https://bwh88.net/clientarea.php)
2. è¿›å…¥ Services > My Services
3. ç‚¹å‡»è¦ç›‘æ§çš„ VPS
4. åœ¨ KiwiVM Control Panel ä¸­æ‰¾åˆ° API Key
5. VEID å¯ä»¥åœ¨ URL æˆ–æœåŠ¡è¯¦æƒ…ä¸­æ‰¾åˆ°

#### è·å– Claude API Key

1. è®¿é—® [Anthropic Console](https://console.anthropic.com/)
2. åˆ›å»ºè´¦æˆ·å¹¶è·å– API Key
3. å°† API Key æ·»åŠ åˆ° GitHub Secrets

#### é…ç½®é‚®ä»¶æœåŠ¡

**Gmail é…ç½®ç¤ºä¾‹ï¼š**
1. å¼€å¯ä¸¤æ­¥éªŒè¯
2. ç”Ÿæˆåº”ç”¨ä¸“ç”¨å¯†ç 
3. ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ä½œä¸º `EMAIL_PASS`

### 4. å¯ç”¨ GitHub Actions

ç¡®ä¿ä½ çš„ä»“åº“å¯ç”¨äº† GitHub Actionsï¼Œå·¥ä½œæµä¼šåœ¨æ¯å¤©æ—©ä¸Š 8 ç‚¹è‡ªåŠ¨è¿è¡Œã€‚

### 5. æ‰‹åŠ¨æµ‹è¯•è¿è¡Œ

\`\`\`bash
# æµ‹è¯•é‚®ä»¶å‘é€
npm run test:email

# ç”Ÿæˆç‰¹å®šç±»å‹ä»»åŠ¡
npm run generate:work
npm run generate:learning
npm run generate:health
npm run generate:market

# ç”Ÿæˆæ‰€æœ‰ä»»åŠ¡å¹¶å‘é€æ±‡æ€»
npm run generate:all
npm run send:summary
\`\`\`

## ğŸ“ é¡¹ç›®ç»“æ„

\`\`\`
My-Jarvis/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ daily-ai-tasks.yml      # GitHub Actions å·¥ä½œæµ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ ai-task-generator.js        # AI ä»»åŠ¡ç”Ÿæˆæ ¸å¿ƒ
â”‚   â”œâ”€â”€ email-sender.js             # é‚®ä»¶å‘é€æ¨¡å—
â”‚   â”œâ”€â”€ generate-work-tasks.js      # å·¥ä½œä»»åŠ¡ç”Ÿæˆ
â”‚   â”œâ”€â”€ generate-learning-tasks.js  # å­¦ä¹ ä»»åŠ¡ç”Ÿæˆ
â”‚   â”œâ”€â”€ generate-health-tasks.js    # å¥åº·ä»»åŠ¡ç”Ÿæˆ
â”‚   â”œâ”€â”€ generate-market-tasks.js    # å¸‚åœºåˆ†æç”Ÿæˆ
â”‚   â”œâ”€â”€ check-bwg-disk.js           # BWG VPS ç£ç›˜ç›‘æ§
â”‚   â””â”€â”€ send-daily-summary.js       # æ¯æ—¥æ±‡æ€»å‘é€
â”œâ”€â”€ tasks/                          # ç”Ÿæˆçš„ä»»åŠ¡æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ package.json
â””â”€â”€ README.md
\`\`\`

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æ‰§è¡Œæ—¶é—´

ç¼–è¾‘ `.github/workflows/daily-ai-tasks.yml` ä¸­çš„ cron è¡¨è¾¾å¼ï¼š

\`\`\`yaml
schedule:
  # æ¯å¤©æ—©ä¸Š 8:00 (UTC)ï¼Œç›¸å½“äºåŒ—äº¬æ—¶é—´ 16:00
  - cron: '0 8 * * *'
\`\`\`

**æ—¶åŒºè½¬æ¢å‚è€ƒï¼š**
- åŒ—äº¬æ—¶é—´ 08:00 = UTC 00:00 â†’ \`'0 0 * * *'\`
- åŒ—äº¬æ—¶é—´ 09:00 = UTC 01:00 â†’ \`'0 1 * * *'\`

### è‡ªå®šä¹‰æç¤ºè¯

ä½ å¯ä»¥åœ¨å„ä¸ªç”Ÿæˆè„šæœ¬ä¸­ä¿®æ”¹ AI æç¤ºè¯æ¥è°ƒæ•´ç”Ÿæˆçš„ä»»åŠ¡ç±»å‹å’Œé£æ ¼ï¼š

- å·¥ä½œæé†’ï¼š\`scripts/generate-work-tasks.js\`
- å­¦ä¹ è®¡åˆ’ï¼š\`scripts/generate-learning-tasks.js\`
- å¥åº·å»ºè®®ï¼š\`scripts/generate-health-tasks.js\`
- å¸‚åœºåˆ†æï¼š\`scripts/generate-market-tasks.js\`

### é‚®ä»¶æ¨¡æ¿è‡ªå®šä¹‰

åœ¨ \`scripts/email-sender.js\` ä¸­å¯ä»¥è‡ªå®šä¹‰ï¼š
- HTML æ¨¡æ¿æ ·å¼
- é‚®ä»¶å¸ƒå±€
- å“ç‰Œå…ƒç´ 

## ğŸ”§ é«˜çº§åŠŸèƒ½

### æ·»åŠ æ–°çš„ä»»åŠ¡ç±»å‹

1. åˆ›å»ºæ–°çš„ç”Ÿæˆè„šæœ¬ \`scripts/generate-custom-tasks.js\`
2. åœ¨ \`daily-ai-tasks.yml\` ä¸­æ·»åŠ æ–°çš„æ‰§è¡Œæ­¥éª¤
3. æ›´æ–° \`send-daily-summary.js\` ä»¥åŒ…å«æ–°ç±»å‹

### é›†æˆæ›´å¤šæ•°æ®æº

å¯ä»¥æ‰©å±•ç³»ç»Ÿä»¥é›†æˆï¼š
- æ—¥å† API (Google Calendar)
- å¥åº·æ•°æ® (Apple Health, Google Fit)
- æŠ•èµ„æ•°æ® (è‚¡ç¥¨ API)
- å¤©æ°”æ•°æ® (OpenWeatherMap)

### æ™ºèƒ½é€šçŸ¥ç­–ç•¥

æ ¹æ®ä»»åŠ¡ä¼˜å…ˆçº§å’Œç±»å‹è®¾ç½®ä¸åŒçš„é€šçŸ¥ç­–ç•¥ï¼š
- é«˜ä¼˜å…ˆçº§ä»»åŠ¡ç«‹å³é€šçŸ¥
- æ™®é€šä»»åŠ¡æ‰¹é‡æ±‡æ€»
- å­¦ä¹ ä»»åŠ¡åœ¨ç©ºé—²æ—¶é—´æ¨é€

## ğŸ› æ•…éšœæ’é™¤

### ä¼ä¸šå¾®ä¿¡é€šçŸ¥å¤±è´¥

1. éªŒè¯ Webhook URL æ˜¯å¦æ­£ç¡®é…ç½®
2. æµ‹è¯• Webhook æ˜¯å¦å¯ç”¨ï¼ˆä½¿ç”¨ä¸Šè¿° curl å‘½ä»¤ï¼‰
3. æ£€æŸ¥ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººæ˜¯å¦è¢«ç§»é™¤
4. ç¡®è®¤æ¶ˆæ¯æ ¼å¼ç¬¦åˆä¼ä¸šå¾®ä¿¡ API è¦æ±‚
5. æŸ¥çœ‹ GitHub Actions è¿è¡Œæ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### é‚®ä»¶å‘é€å¤±è´¥

1. æ£€æŸ¥é‚®ç®±é…ç½®å’Œåº”ç”¨ä¸“ç”¨å¯†ç 
2. ç¡®è®¤é‚®ä»¶æœåŠ¡å•†è®¾ç½®æ­£ç¡®
3. æŸ¥çœ‹ GitHub Actions è¿è¡Œæ—¥å¿—
4. ç¡®è®¤ nodemailer ä¾èµ–å·²æ­£ç¡®å®‰è£…

**å¸¸è§é—®é¢˜ï¼š**
- **`nodemailer.createTransporter is not a function`**: è¿™é€šå¸¸è¡¨ç¤º nodemailer æ¨¡å—å¯¼å…¥å¤±è´¥ï¼Œå·²åœ¨æœ€æ–°ç‰ˆæœ¬ä¿®å¤
- å¦‚æœé‚®ä»¶å‘é€æŒç»­å¤±è´¥ï¼Œå»ºè®®åˆ‡æ¢åˆ°ä¼ä¸šå¾®ä¿¡ webhook æ–¹å¼

### AI ä»»åŠ¡ç”Ÿæˆå¤±è´¥

1. éªŒè¯ Claude API Key æ˜¯å¦æœ‰æ•ˆ
2. æ£€æŸ¥ API é…é¢æ˜¯å¦å……è¶³
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ç¡®å®šå…·ä½“é—®é¢˜

### GitHub Actions ä¸æ‰§è¡Œ

1. ç¡®ä¿ä»“åº“å¯ç”¨äº† Actions
2. æ£€æŸ¥ workflow æ–‡ä»¶è¯­æ³•
3. ç¡®è®¤åˆ†æ”¯è®¾ç½®å’Œè§¦å‘æ¡ä»¶

## ğŸ“Š ç›‘æ§å’Œåˆ†æ

ç³»ç»Ÿä¼šè‡ªåŠ¨è®°å½•ï¼š
- ä»»åŠ¡ç”ŸæˆæˆåŠŸç‡
- é‚®ä»¶å‘é€çŠ¶æ€
- AI API è°ƒç”¨ç»Ÿè®¡
- ç”¨æˆ·å‚ä¸åº¦åˆ†æ

æŸ¥çœ‹ç”Ÿæˆçš„ä»»åŠ¡æ–‡ä»¶ï¼š\`/tasks/\` ç›®å½•ä¸‹æŒ‰æ—¥æœŸä¿å­˜ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¯ å‘å±•è§„åˆ’

- [ ] å¢åŠ  Web ç•Œé¢æ§åˆ¶å°
- [ ] æ”¯æŒå¤šç”¨æˆ·å’Œå›¢é˜Ÿåä½œ
- [ ] é›†æˆæ›´å¤š AI æ¨¡å‹é€‰æ‹©
- [ ] æ·»åŠ ä»»åŠ¡å®Œæˆåé¦ˆæœºåˆ¶
- [ ] æ”¯æŒå¤šè¯­è¨€ç•Œé¢
- [ ] ç§»åŠ¨ç«¯åº”ç”¨å¼€å‘

---

**è®© AI æˆä¸ºä½ çš„è´´èº«åŠ©æ‰‹ï¼Œæå‡æ¯ä¸€å¤©çš„æ•ˆç‡ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ [Issues](https://github.com/your-username/My-Jarvis/issues) ä¸­è®¨è®ºã€‚